<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guldager Water Filter Recommendation Survey</title>
    <style>
        :root {
            --primary: #0088cc;
            --primary-light: #e6f7ff;
            --gray: #f5f5f5;
            --dark: #333;
            --success: #52c41a;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }
        
        body {
            background-color: #f9f9f9;
            color: var(--dark);
            line-height: 1.6;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .logo {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        h1 {
            font-size: 1.8rem;
            color: var(--dark);
            margin-bottom: 10px;
        }
        
        .form-card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            padding: 30px;
            margin-bottom: 20px;
        }
        
        .form-section {
            margin-bottom: 25px;
        }
        
        .section-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--primary-light);
            color: var(--primary);
            display: flex;
            align-items: center;
        }
        
        .section-icon {
            margin-right: 10px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        input[type="text"],
        input[type="tel"],
        input[type="email"],
        input[type="number"] {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            transition: border 0.3s;
        }
        
        input[type="text"]:focus,
        input[type="tel"]:focus,
        input[type="email"]:focus,
        input[type="number"]:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(0, 136, 204, 0.1);
        }
        
        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .radio-item {
            display: flex;
            align-items: center;
            cursor: pointer;
        }
        
        .radio-item input {
            margin-right: 8px;
        }
        
        .equipment-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        .equipment-table th,
        .equipment-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        .equipment-table th {
            background-color: var(--primary-light);
            font-weight: 500;
        }
        
        .quantity-input {
            width: 80px !important;
        }
        
        .submit-row {
            margin-top: 30px;
            text-align: center;
        }
        
        .submit-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 18px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
        }
        
        .submit-btn:hover {
            background: #0077b3;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .equipment-selector {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .equipment-checkbox {
            margin-right: 10px;
        }
        
        @media (max-width: 600px) {
            .form-card {
                padding: 20px 15px;
            }
            
            .radio-group {
                gap: 10px;
            }
            
            .equipment-table th, 
            .equipment-table td {
                padding: 8px 5px;
                font-size: 14px;
            }
        }
        
        /* Success message modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 10px;
            max-width: 500px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .modal-icon {
            font-size: 50px;
            color: var(--success);
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 24px;
            margin-bottom: 15px;
        }
        
        .modal-text {
            margin-bottom: 25px;
        }
        
        .modal-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 5px;
            cursor: pointer;
        }
        
        .uncertain-option {
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">üåä Guldager</div>
            <h1>Water Filter Recommendation Survey</h1>
            <p>Please fill out the following survey and we will recommend the most suitable water filter model for you</p>
        </header>

        <form id="filterRecommendationForm">
            <!-- 1. Contact Information -->
            <div class="form-card">
                <div class="section-title">
                    <span class="section-icon">üë§</span>
                    1. Contact Information
                </div>
                <p>Please provide your basic information so we can offer personalized recommendations</p>
                
                <div class="form-group">
                    <label for="name">Your Name:</label>
                    <input type="text" id="name" name="name" required>
                </div>
                
                <div class="form-group">
                    <label for="phone">üìû Phone Number:</label>
                    <input type="tel" id="phone" name="phone" required>
                </div>
                
                <div class="form-group">
                    <label for="email">üìß Email Address:</label>
                    <input type="email" id="email" name="email" required>
                </div>
            </div>
            
            <!-- 2. Water Quality -->
            <div class="form-card">
                <div class="section-title">
                    <span class="section-icon">üíß</span>
                    2. Water Quality
                </div>
                
                <div class="form-group">
                    <label>Water Hardness Selection:</label>
                    <div class="radio-group">
                        <label class="radio-item">
                            <input type="radio" name="waterHardness" value="soft" required>
                            Soft Water
                        </label>
                        <label class="radio-item">
                            <input type="radio" name="waterHardness" value="medium" required>
                            Medium
                        </label>
                        <label class="radio-item">
                            <input type="radio" name="waterHardness" value="hard" required>
                            Hard Water
                        </label>
                    </div>
                </div>
            </div>
            
            <!-- 3. Usage Scenario Configuration -->
            <div class="form-card">
                <div class="section-title">
                    <span class="section-icon">‚öôÔ∏è</span>
                    3. Usage Scenario Configuration
                </div>
                <p>Multiple selections allowed. You can specify daily water processing volume and quantity for each device.</p>
                
                <table class="equipment-table">
                    <thead>
                        <tr>
                            <th>Equipment Type</th>
                            <th>Daily Water Processing Volume</th>
                            <th>Quantity</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div class="equipment-selector">
                                    <input type="checkbox" id="coffeeMachine" name="equipment" value="coffeeMachine" class="equipment-checkbox">
                                    <label for="coffeeMachine">Coffee Machine</label>
                                </div>
                            </td>
                            <td>
                                <div class="radio-group">
                                    <label class="radio-item">
                                        <input type="radio" name="coffeeMachineVolume" value="low" disabled>
                                        &lt;500L
                                    </label>
                                    <label class="radio-item">
                                        <input type="radio" name="coffeeMachineVolume" value="medium" disabled>
                                        500‚Äì2000L
                                    </label>
                                    <label class="radio-item">
                                        <input type="radio" name="coffeeMachineVolume" value="high" disabled>
                                        &gt;2000L
                                    </label>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="coffeeMachineQuantity" class="quantity-input" min="1" disabled>
                                <span>units</span>
                            </td>
                        </tr>
                        
                        <tr>
                            <td>
                                <div class="equipment-selector">
                                    <input type="checkbox" id="steamMachine" name="equipment" value="steamMachine" class="equipment-checkbox">
                                    <label for="steamMachine">Steam Machine</label>
                                </div>
                            </td>
                            <td>
                                <div class="radio-group">
                                    <label class="radio-item">
                                        <input type="radio" name="steamMachineVolume" value="low" disabled>
                                        &lt;500L
                                    </label>
                                    <label class="radio-item">
                                        <input type="radio" name="steamMachineVolume" value="medium" disabled>
                                        500‚Äì2000L
                                    </label>
                                    <label class="radio-item">
                                        <input type="radio" name="steamMachineVolume" value="high" disabled>
                                        &gt;2000L
                                    </label>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="steamMachineQuantity" class="quantity-input" min="1" disabled>
                                <span>units</span>
                            </td>
                        </tr>
                        
                        <tr>
                            <td>
                                <div class="equipment-selector">
                                    <input type="checkbox" id="iceMachine" name="equipment" value="iceMachine" class="equipment-checkbox">
                                    <label for="iceMachine">Ice Machine</label>
                                </div>
                            </td>
                            <td>
                                <div class="radio-group">
                                    <label class="radio-item">
                                        <input type="radio" name="iceMachineVolume" value="low" disabled>
                                        &lt;500L
                                    </label>
                                    <label class="radio-item">
                                        <input type="radio" name="iceMachineVolume" value="medium" disabled>
                                        500‚Äì2000L
                                    </label>
                                    <label class="radio-item">
                                        <input type="radio" name="iceMachineVolume" value="high" disabled>
                                        &gt;2000L
                                    </label>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="iceMachineQuantity" class="quantity-input" min="1" disabled>
                                <span>units</span>
                            </td>
                        </tr>
                        
                        <tr>
                            <td>
                                <div class="equipment-selector">
                                    <input type="checkbox" id="dishwasher" name="equipment" value="dishwasher" class="equipment-checkbox">
                                    <label for="dishwasher">Dishwasher</label>
                                </div>
                            </td>
                            <td>
                                <div class="radio-group">
                                    <label class="radio-item">
                                        <input type="radio" name="dishwasherVolume" value="low" disabled>
                                        &lt;500L
                                    </label>
                                    <label class="radio-item">
                                        <input type="radio" name="dishwasherVolume" value="medium" disabled>
                                        500‚Äì2000L
                                    </label>
                                    <label class="radio-item">
                                        <input type="radio" name="dishwasherVolume" value="high" disabled>
                                        &gt;2000L
                                    </label>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="dishwasherQuantity" class="quantity-input" min="1" disabled>
                                <span>units</span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- 4. Installation Space -->
            <div class="form-card">
                <div class="section-title">
                    <span class="section-icon">üìè</span>
                    4. Installation Space
                </div>
                <p>We will recommend models compatible with your available space</p>
                
                <div class="form-group">
                    <div class="radio-group">
                        <label class="radio-item">
                            <input type="radio" name="installationSpace" value="small" required>
                            Small Space (height &lt; 70 cm, width/depth ‚â• 30 cm)
                        </label>
                        <label class="radio-item">
                            <input type="radio" name="installationSpace" value="medium" required>
                            Medium Space (height 70‚Äì85 cm, width/depth ‚â• 35 cm)
                        </label>
                        <label class="radio-item">
                            <input type="radio" name="installationSpace" value="large" required>
                            Large Space (height 85‚Äì100 cm, width/depth ‚â• 40 cm)
                        </label>
                        <label class="radio-item">
                            <input type="radio" name="installationSpace" value="extraLarge" required>
                            Extra Large Space (height &gt; 100 cm, width/depth ‚â• 40 cm)
                        </label>
                        <label class="radio-item uncertain-option">
                            <input type="radio" name="installationSpace" value="unsure" required>
                            I'm not sure, please help me evaluate
                        </label>
                    </div>
                </div>
            </div>
            
            <!-- 5. Purchase Type -->
            <div class="form-card">
                <div class="section-title">
                    <span class="section-icon">üõí</span>
                    5. Purchase Type
                </div>
                
                <div class="form-group">
                    <div class="radio-group">
                        <label class="radio-item">
                            <input type="radio" name="purchaseType" value="firstTime" required>
                            First-time Purchase
                        </label>
                        <label class="radio-item">
                            <input type="radio" name="purchaseType" value="replacement" required>
                            Replacing Existing Equipment
                        </label>
                        <label class="radio-item">
                            <input type="radio" name="purchaseType" value="additional" required>
                            Adding Capacity
                        </label>
                    </div>
                </div>
            </div>
            
            <!-- 6. Sustainability -->
            <div class="form-card">
                <div class="section-title">
                    <span class="section-icon">üå±</span>
                    6. Sustainability
                </div>
                <p>Are you concerned about carbon emissions? Our filters are designed for sustainability and significantly reduce carbon footprint.</p>
                
                <div class="form-group">
                    <div class="radio-group">
                        <label class="radio-item">
                            <input type="radio" name="sustainability" value="high" required>
                            Yes, I'm very concerned
                        </label>
                        <label class="radio-item">
                            <input type="radio" name="sustainability" value="medium" required>
                            Somewhat concerned
                        </label>
                        <label class="radio-item">
                            <input type="radio" name="sustainability" value="low" required>
                            Not sure / Haven't considered
                        </label>
                    </div>
                </div>
            </div>
            
            <div class="submit-row">
                <button type="submit" class="submit-btn">
                    ‚úÖ Submit Survey, Get Recommended Filter Models
                </button>
            </div>
        </form>
    </div>
    
    <!-- Success Modal -->
    <div class="modal" id="successModal">
        <div class="modal-content">
            <div class="modal-icon">‚úÖ</div>
            <h2 class="modal-title">Submission Successful!</h2>
            <p class="modal-text" id="successMessage">Thank you for completing the Guldager water filter recommendation survey. Your responses have been saved to your computer.</p>
            <button class="modal-btn" id="closeModal">OK</button>
        </div>
    </div>

    <script>
        // Equipment selection logic
        document.querySelectorAll('.equipment-checkbox').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const row = this.closest('tr');
                const volumeRadios = row.querySelectorAll('input[type="radio"]');
                const quantityInput = row.querySelector('input[type="number"]');
                
                if (this.checked) {
                    volumeRadios.forEach(radio => radio.disabled = false);
                    quantityInput.disabled = false;
                    quantityInput.value = 1;
                    quantityInput.required = true;
                    volumeRadios[0].required = true;
                } else {
                    volumeRadios.forEach(radio => {
                        radio.disabled = true;
                        radio.checked = false;
                        radio.required = false;
                    });
                    quantityInput.disabled = true;
                    quantityInput.value = '';
                    quantityInput.required = false;
                }
            });
        });
        
        // Form submission with local save functionality
        document.getElementById('filterRecommendationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Check if at least one equipment is selected
            const anyEquipmentSelected = Array.from(document.querySelectorAll('.equipment-checkbox')).some(cb => cb.checked);
            
            if (!anyEquipmentSelected) {
                alert('Please select at least one type of equipment');
                return;
            }
            
            // Validate that selected equipment has volume and quantity filled
            let valid = true;
            document.querySelectorAll('.equipment-checkbox:checked').forEach(checkbox => {
                const row = checkbox.closest('tr');
                const volumeSelected = Array.from(row.querySelectorAll('input[type="radio"]')).some(radio => radio.checked);
                const quantityFilled = row.querySelector('input[type="number"]').value !== '';
                
                if (!volumeSelected || !quantityFilled) {
                    valid = false;
                }
            });
            
            if (!valid) {
                alert('Please ensure all selected equipment has both water volume and quantity specified');
                return;
            }
            
            // Collect form data
            const formData = collectFormData();
            
            // Convert data to JSON string
            const jsonData = JSON.stringify(formData, null, 2);
            
            // Create download link
            const blob = new Blob([jsonData], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            // Create and trigger download
            const a = document.createElement('a');
            a.href = url;
            a.download = `Guldager_WaterFilter_Survey_${formData.name}_${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            // Show success message
            document.getElementById('successMessage').textContent = 'Survey submitted successfully. Your responses have been saved to your computer.';
            document.getElementById('successModal').style.display = 'flex';
        });
        
        // Function to collect form data
        function collectFormData() {
            const formData = {
                // Basic information
                name: document.getElementById('name').value,
                phone: document.getElementById('phone').value,
                email: document.getElementById('email').value,
                
                // Water hardness
                waterHardness: document.querySelector('input[name="waterHardness"]:checked').value,
                
                // Equipment information
                equipment: [],
                
                // Installation space
                installationSpace: document.querySelector('input[name="installationSpace"]:checked').value,
                
                // Purchase type
                purchaseType: document.querySelector('input[name="purchaseType"]:checked').value,
                
                // Sustainability
                sustainability: document.querySelector('input[name="sustainability"]:checked').value,
                
                // Submission time
                submissionDate: new Date().toISOString()
            };
            
            // Collect equipment information
            document.querySelectorAll('.equipment-checkbox:checked').forEach(checkbox => {
                const equipmentType = checkbox.value;
                const row = checkbox.closest('tr');
                const volume = row.querySelector('input[type="radio"]:checked').value;
                const quantity = row.querySelector('input[type="number"]').value;
                
                formData.equipment.push({
                    type: equipmentType,
                    volume: volume,
                    quantity: parseInt(quantity)
                });
            });
            
            return formData;
        }
        
        // Close modal
        document.getElementById('closeModal').addEventListener('click', function() {
            document.getElementById('successModal').style.display = 'none';
        });
    </script>
</body>
</html>
